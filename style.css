:root {
    --c1: #fff;
    --c2: #141414;
    --c3: #343434;
    --c4: #ff8c00;
    --primary-blue: #00d4ff;
    --primary-orange: #ff8c00;
    --dark-bg: #0a0e27;
    --card-bg: #1a1f3a;
    --postit-yellow: linear-gradient(135deg, #FFE082 0%, #FFF59D 100%);
    --postit-yellow-2: linear-gradient(135deg, #FFEB3B 0%, #FFF176 100%);
    --postit-yellow-3: linear-gradient(135deg, #FFD54F 0%, #FFEE58 100%);
}

html,
body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Prevent horizontal scroll */
}

html {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(344deg, rgba(33, 240, 255, 0.20) -30.13%, rgba(0, 0, 0, 0.20) 35.73%), linear-gradient(137deg, #FF8C00 -97.98%, #000 38.24%);
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    color: var(--c1);
}

/* Header - Mobile First */
header {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 0 auto;
    text-align: center;
    padding: 30px 20px;
}

header h4 {
    font-size: 40px;
    text-align: center;
    color: var(--c1);
    margin: 0;
    line-height: 1.2;
}

header h1 {
    display: none; /* Hide separator on mobile */
}

header img {
    height: 50px;
    width: auto;
}

/* App Container */
#app {
    position: relative;
    width: 100%;
    min-height: calc(100vh - 150px);
    padding-bottom: 100px; /* Space for FAB */
}

/* Pages */
.page {
    display: none;
    width: 100%;
    animation: fadeIn 0.5s ease-out;
}

.page.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Title Style for Home Page */
#home-page #department-title {
    text-align: center;
    font-size: 28px;
    margin: 20px 0;
    padding: 0 20px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Filters Container */
.filters-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 0 20px;
    margin-bottom: 20px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

.filters-container input,
.filters-container select {
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    padding: 12px 15px;
    color: #333;
    font-size: 16px;
    width: 100%;
    box-sizing: border-box;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.filters-container input:focus,
.filters-container select:focus {
    outline: none;
    border-color: var(--c4);
    box-shadow: 0 0 0 3px rgba(255, 140, 0, 0.2);
    transform: translateY(-2px);
}

@media (min-width: 600px) {
    .filters-container {
        flex-direction: row;
        align-items: center;
    }
    
    .filters-container input {
        flex: 2;
    }
    
    .filters-container select {
        flex: 1;
    }
}

/* Goals Container - Mobile First (1 column) */
.goals-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
    padding: 20px;
    max-width: 100%;
    margin: 0 auto;
    perspective: 1000px; /* For 3D animations */
}

/* Goal Card (Post-it Style) */
.goal-card {
    background: var(--postit-yellow);
    border-radius: 4px; /* Less rounded for paper look */
    padding: 20px;
    box-shadow: 
        0 4px 10px rgba(0, 0, 0, 0.2),
        0 10px 20px rgba(0, 0, 0, 0.1);
    position: relative;
    transform: rotate(0deg); /* Set by JS, but default here */
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s ease;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    color: #333;
    opacity: 0; /* Hidden initially for animation */
    animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* Post-it Variations */
.goal-card:nth-child(even) {
    background: var(--postit-yellow-2);
}
.goal-card:nth-child(3n) {
    background: var(--postit-yellow-3);
}

@keyframes popIn {
    0% {
        opacity: 0;
        transform: scale(0.5) rotate(10deg);
    }
    100% {
        opacity: 1;
        /* Transform will be overwritten by inline styles from JS, 
           so we rely on the JS to set the final state or use !important if needed, 
           but actually we want the animation to settle to the JS rotation. 
           
           Issue: Inline styles override CSS keyframes final state if not careful.
           Better approach: Animate opacity and scale, let JS handle rotation.
        */
        transform: scale(1) var(--rotation); /* We will use a CSS variable for rotation */
    }
}

/* Better Hover for Touch/Desktop */
.goal-card:hover {
    z-index: 10;
    transform: scale(1.05) rotate(0deg) !important; /* Force straight on hover */
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.4),
        0 0 15px rgba(255, 140, 0, 0.2);
}

/* Pin effect */
.goal-card::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 20px;
    background: radial-gradient(circle at 30% 30%, #ff6b6b, #c92a2a);
    border-radius: 50%;
    box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.3);
    z-index: 1;
}

/* Tape effect (alternative to pin, or addition) - Let's stick with Pin as it's cleaner */

.goal-card-header {
    margin-bottom: 10px;
    border-bottom: 1px dashed rgba(0,0,0,0.1);
    padding-bottom: 5px;
}

.goal-card-name {
    font-size: 20px;
    font-family: 'Segoe UI', cursive; /* Fallback to cursive for handwritten feel if available */
    font-weight: 700;
    color: #222;
    margin: 0;
}

.goal-card-text {
    font-size: 16px;
    font-family: 'Segoe UI', sans-serif;
    color: #444;
    line-height: 1.5;
    margin: 10px 0;
    flex-grow: 1;
}

.goal-card-footer {
    margin-top: 10px;
    font-size: 12px;
    color: #666;
    text-align: right;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Floating Action Button */
.fab {
    position: fixed;
    bottom: 20px;

    /* --- Nova forma de centralizar --- */
    left: 0;
    right: 0;
    margin: 0 auto; /* Isso faz a mágica */
    /* -------------------------------- */

    width: 65px;
    height: 65px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--c4), #ff6b35);
    color: white;
    border: none;
    font-size: 36px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    
    /* Agora sua transição não vai brigar com a posição */
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    
    z-index: 100;
    outline: none;
    -webkit-tap-highlight-color: transparent;
}

.fab:hover {
    transform: scale(1.1) rotate(90deg); 
    cursor: pointer;
}

.fab:active {
    transform: scale(0.9);
}

/* Modal - Mobile Friendly */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 200;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease;
}

.modal-overlay.active {
    display: flex;
}

.modal {
    background: linear-gradient(135deg, #1f1f1f 0%, #0c0c0c 100%);
    border: none;
    border-radius: 15px;
    padding: 30px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: slideUp 0.3s ease;
}

@keyframes slideUpBottom {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    border-bottom: 2px solid rgba(255, 140, 0, 0.3);
    padding-bottom: 15px;
}

.modal-header h3 {
    margin: 0;
    font-size: 22px;
    color: var(--c1);
}

.modal-close {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: var(--c1);
    font-size: 24px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

/* Form Styles */
.form-group input,
.form-group select,
.form-group textarea {
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 15px;
    color: white;
    font-size: 16px; /* Prevents zoom on iOS */
    width: 100%;
    box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--c4);
    background: var(--c2);
    box-shadow: 0 0 15px rgba(255, 140, 0, 0.3);
}

.form-group textarea {
    min-height: 100px;
}

.btn-submit {
    width: 100%;
    padding: 15px;
    margin-top: 10px;
    border-radius: 12px;
    background: linear-gradient(90deg, var(--c4), #ff4500);
    font-size: 18px;
}

/* Tablet (min-width: 600px) */
@media (min-width: 600px) {
    .goals-container {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
    
    .modal {
        max-width: 500px;
        border-radius: 15px;
        margin-bottom: auto; /* Center vertically on larger screens */
        align-self: center;
        animation: slideUpCenter 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
    }
    
    .modal-overlay {
        align-items: center;
    }

    @keyframes slideUpCenter {
        from { transform: translateY(50px) scale(0.9); opacity: 0; }
        to { transform: translateY(0) scale(1); opacity: 1; }
    }
}

/* Desktop (min-width: 1024px) */
@media (min-width: 1024px) {
    header {
        flex-direction: row;
        gap: 40px;
        padding: 40px 0;
    }

    header h1 {
        display: block;
        font-size: 40px;
        font-weight: 300;
        color: rgba(255,255,255,0.3);
    }

    header h4 {
        font-size: 50px;
    }

    header img {
        height: 60px;
    }

    #home-page #department-title {
        font-size: 36px;
        margin: 40px 0;
    }

    .goals-container {
        padding: 40px;
        gap: 40px;
    }

    .fab:hover {
        transform: scale(1.1) rotate(90deg);
        cursor: pointer;
    }
}
